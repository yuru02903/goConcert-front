import{W as w,X as n,Y as d,Z as t,c as e,a3 as B,a1 as i,aa as o,ae as T,a9 as r,V as _,_ as L,T as z,r as h,l as F,af as G,ab as N,ag as S,a as $,$ as V,a7 as b,F as k,ah as D,ai as I}from"./index-97a566c0.js";import{V as p,a as s}from"./VRow-a212f59e.js";import{V as x}from"./VDivider-d6fa2005.js";import{V as R,c as A,a as v}from"./VList-6532eaee.js";import{V as E}from"./VContainer-48903f22.js";const M=r("div",{style:{height:"100%","line-height":"80px"}},[r("h3",{class:"text-center",style:{color:"white"}}," 我要購買 ")],-1),U={__name:"TicketCard",props:["_id","name","date","performer","originalPrice","price","seller","categoryCountry","categoryGroup","description","sell"],setup(l){return(f,y)=>{const u=w("router-link");return n(),d(L,{class:"ticketCard"},{default:t(()=>[e(p,{class:"ma-0 pa-0"},{default:t(()=>[e(s,{cols:"3"},{default:t(()=>[e(B,{style:{}},{default:t(()=>[i(o(l.name),1)]),_:1}),e(T,{style:{color:"#e76813","font-weight":"bolder",opacity:"1"},class:"pb-1"},{default:t(()=>[i(" 售價："+o(l.price),1)]),_:1})]),_:1}),e(s,{cols:"2",class:"ma-0 pa-3"},{default:t(()=>[r("h5",null,"日期："+o(l.date),1),r("h5",null,"演出者："+o(l.performer),1),r("h5",null,"原價："+o(l.originalPrice),1),r("h5",null,"賣家："+o(l.seller.account),1)]),_:1}),e(s,{cols:"5"},{default:t(()=>[e(_,{class:"mx-1",rounded:"",size:"small",style:{"font-weight":"700"},color:"bgPrimary"},{default:t(()=>[i(o(l.categoryCountry),1)]),_:1}),e(_,{class:"mx-1",rounded:"",size:"small",style:{"font-weight":"700"},color:"bgPrimary"},{default:t(()=>[i(o(l.categoryGroup),1)]),_:1})]),_:1}),e(x,{vertical:""}),e(s,{cols:"2",style:{"background-color":"#e76813"}},{default:t(()=>[e(u,{class:"text-primary text-decoration-none",to:"/tickets/"+l._id},{default:t(()=>[M]),_:1},8,["to"])]),_:1})]),_:1})]),_:1})}}},W=r("h2",null,"票券交流",-1),H={__name:"TicketsView",setup(l){const{api:f}=N(),y=z(),u=h([]),C=F(()=>[{country:"台灣"},{country:"韓國"},{country:"日本"},{country:"歐美"},{country:"泰國"},{country:"其他"}]),g=h(["Country"]);return G(async()=>{var m,c;try{const{data:a}=await f.get("/tickets/all",{params:{itemsPerPage:-1}});u.value.push(...a.result.data)}catch(a){console.log(a);const P=((c=(m=a==null?void 0:a.response)==null?void 0:m.data)==null?void 0:c.message)||"發生錯誤，請稍後再試";y({text:P,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}}),(m,c)=>(n(),d(p,{class:"pa-0 ma-0"},{default:t(()=>[e(s,{cols:"2",class:"pa-2 ma-0",style:{"border-right":"1px solid rgb(224, 224, 224)"}},{default:t(()=>[e(S,{label:"搜尋","append-icon":"mdi-magnify",rounded:"",variant:"outlined","base-color":"rgb(224, 224, 224)","bg-color":"rgb(256, 256, 256)",density:"compact",class:"pt-4 pa-1"}),e(R,{height:"100vh","bg-color":"bgPrimary",opened:g.value,"onUpdate:opened":c[0]||(c[0]=a=>g.value=a)},{default:t(()=>[e(A,{value:"Country",opened:""},{activator:t(({props:a})=>[e(v,$(a,{title:"國籍"}),null,16)]),default:t(()=>[(n(!0),V(k,null,b(C.value,a=>(n(),d(v,{key:a.country,title:a.country},null,8,["title"]))),128))]),_:1})]),_:1},8,["opened"])]),_:1}),e(s,{cols:"10",class:"pa-0 ma-0"},{default:t(()=>[e(E,null,{default:t(()=>[e(p,null,{default:t(()=>[e(s,{cols:"12"},{default:t(()=>[W]),_:1}),e(x),(n(!0),V(k,null,b(u.value,a=>(n(),d(s,{cols:"12",key:a._id},{default:t(()=>[e(U,D(I(a)),null,16)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}))}};export{H as default};
